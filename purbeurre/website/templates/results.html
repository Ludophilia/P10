{% extends "base_mfh.html" %}
{% load static %}

{% block header_background %} {{ product_photo_url }} {% endblock %}
{% block product_name %} {{ product_name }} {% endblock %}

{% block subheader %}

<section>
    <div class="container" style="margin-top:30px"> <!-- A corriger, desactivé pour l'esthertique -->
        <div class="row">
            <div class="col-lg-12 col-11">
                <h2 class="results" style="font-size:20px; display:none ; margin-bottom:30px" > 
                    Vous pouvez remplacer cet aliment par :
                </h2>
            </div>
            
        </div>
        <div class="row justify-content-center">
            {% for substitute in substitutes %} 
            <div class="col-lg-4 col-10 mb-4" > 
                <div class="card">
                    <img src="{{ substitute.media.image_full_url }}" class="card-img-top" alt="..." height="400">
                    <span class="n-badge bg-primary">{{ substitute.nutrition.nutriscore }}</span>
                    <div class="card-body" style="height:110px">
                        <h3 class="results card-title">
                            {{ substitute.product_name }}
                        </h3>
                        {% if user.is_authenticated %} 
                        <div class="card-subtitle text-muted">
                            <!-- Il faut créer une fonction python qui gère le statut de sauvegarde d'un aliment
                            soit c'est sauvegardé soit c'est sauvegarder en fonction de ce qu'il y a dans la base sur ce produit 
                            et cet utilisateur. La valeur {{ save_status }} sera alors placée à la place de Sauvegarder en bas -->
                            <i class="far fa-save"></i> <a href="#" class="mx-1 save-link">Sauvegarder</a> 
                        </div>
                        {% else %}
                        <div class="card-subtitle text-muted">
                            <div >Connectez-vous pour <i class="far fa-save mx-1"></i></div>
                        </div>
                        {% endif %} 
                    </div>
                </div>
            </div>
            {% endfor %} 
        </div>
    </div>
</section>

{% endblock %}
